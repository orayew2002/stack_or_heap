# üß† Stack vs Heap Allocation in Go (Escape Analysis)

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç, –∫–∞–∫ **escape analysis** –≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å Go-–∫–æ–¥–∞. –ú—ã —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞:

- `escape()` ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —É—Ö–æ–¥–∏—Ç –≤ **heap**
- `noEscape()` ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ—Å—Ç–∞—ë—Ç—Å—è –≤ **stack**

## üî¨ –¶–µ–ª—å

–ü–æ–Ω—è—Ç—å:
- –ü–æ—á–µ–º—É escape –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –∞–ª–ª–æ–∫–∞—Ü–∏—è–º –≤ –∫—É—á–µ
- –ö–∞–∫ —ç—Ç–æ –∑–∞–º–µ–¥–ª—è–µ—Ç –∫–æ–¥
- –ö–∞–∫ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä Go –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç "–∂–∏–∑–Ω—å" –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –ö–∞–∫ –∏–∑–º–µ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å –ø–æ–º–æ—â—å—é –±–µ–Ω—á–º–∞—Ä–∫–æ–≤

## üß™ Benchmark —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

```bash
go test -bench=. -benchmem -benchtime=100000000x
```

![alt text](https://github.com/orayew2002/stack_or_heap/blob/main/assets/result.png)
